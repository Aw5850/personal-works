var compiler, fs;

fs = require('fs');

compiler = require('./compiler');

if (require.extensions != null) {
  require.extensions['.cirru'] = function(module, filename) {
    var code, js;
    code = fs.readFileSync(filename, 'utf8');
    js = compiler.compile(code);
    return module._compile(js, filename);
  };
}
